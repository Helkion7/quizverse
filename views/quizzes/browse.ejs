<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
  </head>
  <body>
    <div class="container">
      <%- include('../partials/header') %>

      <div class="container mt-4">
        <h1>Browse Quizzes</h1>

        <% if (quizzes && quizzes.length > 0) { %>
        <div class="row">
          <% quizzes.forEach(quiz => { %>
          <div class="col-md-4 mb-4">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title"><%= quiz.title %></h5>
                <h6 class="card-subtitle mb-2 text-muted">
                  By <%= quiz.creator ? quiz.creator.username : 'Unknown' %>
                </h6>
                <p class="card-text">
                  <%= quiz.description || 'No description provided' %>
                </p>
                <p class="card-text">
                  <small class="text-muted">
                    <%= quiz.questions.length %> questions â€¢ Created <%= new
                    Date(quiz.createdAt).toLocaleDateString() %>
                  </small>
                </p>
                <a
                  href="/quiz/auth-check/<%= quiz._id %>"
                  class="view-quiz-btn"
                >
                  View Quiz
                </a>
              </div>
            </div>
          </div>
          <% }); %>
        </div>
        <% } else { %>
        <div class="alert alert-info">
          No quizzes found. <a href="/quiz/create">Create the first quiz!</a>
        </div>
        <% } %>
      </div>

      <%- include('../partials/footer') %>
    </div>
  </body>
</html>
